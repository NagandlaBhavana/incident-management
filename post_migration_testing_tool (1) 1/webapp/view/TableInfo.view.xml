<mvc:View
    controllerName="postmigrationtestingtool.controller.TableInfo"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.f"
    xmlns:t="sap.ui.table"
    xmlns:layout="sap.ui.layout"
    height="100%">
    
    <f:DynamicPage id="dynamicPageId"
        stickySubheaderProvider="iconTabBar"
        class="sapUiNoContentPadding"
        toggleHeaderOnTitleClick="{/titleClickable}" showFooter="true">
        
        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title text="PI/PO and CPI iFlows Details"/>
                </f:heading>
                <f:breadcrumbs>
                    <Breadcrumbs>
                        <Link text="Overview" press="onNavigateHome"/>
                        <Link text="PI/PO" press="onNavigatePIPO"/>
                        <Link text="CPI" press="onNavigateCPI"/>
                    </Breadcrumbs>
                </f:breadcrumbs>
                <f:expandedContent>
                    <Label text="List of PI/PO and CPI Flows"/>
                </f:expandedContent>
                <f:snappedContent>
                    <Label text="List of PI/PO and CPI Flows"/>
                </f:snappedContent>
                <f:snappedTitleOnMobile>
                    <Title text="List of PI/PO and CPI Flows"/>
                </f:snappedTitleOnMobile>
                <!-- <f:content>
                    <OverflowToolbar>
                        <GenericTag text="Status"
                            status="Error"
                            press="onGenericTagPress"
                            design="StatusIconHidden">
                            <ObjectNumber number="2"
                                unit="M"
                                emphasized="false"
                                state="Error"/>
                        </GenericTag>
                    </OverflowToolbar>
                </f:content> -->
                <f:actions>
                    <Button text="Edit" type="Emphasized" press="onEdit"/>
                    <Button text="Copy" type="Transparent" press="onCopy"/>
                    <Button text="Toggle Footer" type="Transparent" press="onToggleFooter"/>
                    <!-- <Button icon="sap-icon://action" type="Transparent"/> -->
                </f:actions>
                <f:navigationActions>
                    <Button icon="sap-icon://full-screen" type="Transparent" />
                    <Button icon="sap-icon://decline" type="Transparent" />
                </f:navigationActions>
            </f:DynamicPageTitle>
        </f:title>

        <!-- DynamicPage Header -->
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <layout:HorizontalLayout allowWrapping="true">
                    <layout:VerticalLayout class="sapUiMediumMarginEnd">
                        <ObjectAttribute id="totalPIPO" title="Total PI/PO Interfaces" text="{/icoDetails/length}" class="totalpipoInt_colour" />
                        <ObjectAttribute id="totalCPI" title="Total CPI iFlows" text="{integrationModel>/integrations/length}" class="totalpipoInt_colour"/>
                    </layout:VerticalLayout>
                </layout:HorizontalLayout>
            </f:DynamicPageHeader>
        </f:header>

        <f:content>
            <IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter text="Show PI/PO Interfaces" key="PIPO">
                        <Table items="{/icoDetails}" id="PIPOInterfaceTable_" mode="None" selectionChange="onPIPOInterfaceSelect" class="sapUiLargeMarginBottom">
                                <columns>
                                    <Column>
                                        <Text text="S.No" />
                                    </Column>
                                    
                                    <Column>
                                        <Text text="Interface Name" />
                                    </Column>
                                    <Column>
                                        <Text text="Interface Namespace" />
                                    </Column>
                                    
                                </columns>
                                <items>
                                    <ColumnListItem>
                                        <cells>
                                            <Text text="{SerialNumber}"/>
                                            <Text text="{InterfaceName}" />
                                            <Text text="{InterfaceNamespace}" />
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                    </IconTabFilter>

                    <IconTabFilter text="Show CPI iFlows" key="CPI">
                        <Table id="integration_list" items="{integrationModel>/integrations}" mode="None" selectionChange="onGetMsgDetailsCPI" class="sapUiLargeMarginBottom">
                        <columns>
                            <Column>
                                <Text text="S.No" />
                            </Column>
                            <Column>
                                <Text text="Package" />
                            </Column>
                            <Column>
                                <Text text="Artifact Name" />
                            </Column>
                            
                        </columns>
                        <items>
                            <ColumnListItem>
                                <cells>
                                    <Text text="{integrationModel>serialNumber}"/>
                                    <Text text="{integrationModel>package}" /> <!-- Package -->
                                    <Text text="{integrationModel>name}" />    <!-- Artifact Name -->
                                    
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </f:content>

        <!-- DynamicPage Footer -->
        <f:footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button id="next" press="onNext" text="Next" type="Emphasized"/>
                <Button id="back" press="onBack" text="Back" type="Emphasized"/>
            </OverflowToolbar>
        </f:footer>
    </f:DynamicPage>
</mvc:View>