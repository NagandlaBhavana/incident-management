<mvc:View controllerName="postmigrationtestingtool.controller.View1"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns:f="sap.f"
	xmlns:form="sap.ui.layout.form"
	xmlns:u="sap.ui.unified"
	xmlns:l="sap.ui.layout"
	xmlns:layout="sap.ui.layout"
	xmlns:card="sap.f.cards"
	xmlns:m="sap.suite.ui.microchart"
	xmlns:w="sap.ui.integration.widgets" xmlns:t="sap.ui.table" xmlns:d3="postmigrationtestingtool.control"
   displayBlock="true" height="100%">
	<NavContainer id="navContainer">
		<f:DynamicPage stickySubheaderProvider="CreateProductWizard" toggleHeaderOnTitleClick="false"  class="sapUiNoContentPadding" showFooter="true" id="dynamicPage">
			<f:title>
				<f:DynamicPageTitle>
					<f:heading>
						<Title text="Post Migration Testing Tool"/>
					</f:heading>
					
					<f:breadcrumbs>
                    <Breadcrumbs>
                        <Link text="Overview" press="onNavigateToOverview"/>
                        <Link text="Table Details" press="onNavigateToTableInfo"/>
                    </Breadcrumbs>
                </f:breadcrumbs>

					<f:actions>
						<OverflowToolbar>
							<ToolbarSpacer />
							<Button id="PreviousButton" text="Previous Step" press="onPreviousButton" />
							<Button id="Nextbutton" text="Review"  press="onReviewButtonPress" />
						</OverflowToolbar>
					</f:actions>
				</f:DynamicPageTitle>
			</f:title>
			<f:content>
				<Wizard id="CreateProductWizard" showNextButton="false" navigationChange="handleNavigationChange" renderMode="Page">
					<WizardStep id="testscenariodetails" title="Test Scenario Details" validated="true">
						<Text text="Information entered here will be displayed on Reports." class="sapUiSmallMarginBottom"/>
						<form:SimpleForm class="sapUiLargeMarginBottom" layout="ResponsiveGridLayout">
							<Label text="Scenario title" />
							<Input value="{uiModel>/Scenariotitle}" id="scenario" width="30%"/>
							<Label text="Tested by" />
							<Text id="username" text="{uiModel>/TestedBy}" />
							<!-- <Label text="Mail Id" />
							<Text id="emailText" text="{uiModel>/UserMail}" /> -->
							<!-- Assuming you have a binding for tested by -->
							<!-- <Label text="Switch"/> -->
                            <!-- <Button text="UnMatched" width="160px" type="Reject" icon="sap-icon://error" ></Button> -->
							<!-- <ObjectStatus text="FAILED" state="Error" icon="sap-icon://error" /> -->
						</form:SimpleForm>
						<Bar design="Footer">
							<contentRight>
								<Button id="NextButton" text="Next Step" type="Emphasized" press="onNextButton" />
							</contentRight>
						</Bar>
					</WizardStep>
					
					<WizardStep id="selectico" title="Select PI/PO Interface" validated="false">
						<Text text="Select the Date Ranges First" class="sapUiSmallMarginBottom"/>
						
						<l:Grid defaultSpan="L3 M6 S12" class="sapUiTinyMarginBottom" >
							<l:content>
								<VBox>
									<Label text="From Date:" labelFor="FromDate" />
									<DatePicker id="FromDate" displayFormat="dd-MM-yyyy" change="onDateChange"  showCurrentDateButton="true"/>
								</VBox>
								<VBox>
									<Label text="To Date:" labelFor="ToDate" />
									<DatePicker id="ToDate" displayFormat="dd-MM-yyyy" change="onDateChange" showCurrentDateButton="true"/>
								</VBox>
							
							</l:content>
						</l:Grid>

						<t:Table id="PIPOInterfaceTable" selectionMode="None" rows="{/icoDetails}" ariaLabelledBy="title" class="sapUiLargeMarginBottom" enableBusyIndicator="true" rowSelectionChange="onPIPOInterfaceSelect" >
							<t:extension>
								
								<OverflowToolbar style="Clear">
									<Title id="title" text="PI/PO Interface Details"/>
									<ToolbarSpacer/>
									<SearchField placeholder="Search Interface Name" value="" search="searchPIPOInterfaceDetails" width="15rem"/>
								</OverflowToolbar>

								<OverflowToolbar style="Clear">
									<Text id="totalPIPOInterfaces" text="Total PI/PO Interfaces: " class="totalpipoInt_colour"/>
									<ToolbarSpacer/>
									<Button icon="sap-icon://globe" tooltip="Version" press="onVersionPress"/>
									<Button icon="sap-icon://action-settings" tooltip="Settings" press="onSettingsPress"/>
									<Button text="Export" press="onExportPIPOInterface"   icon="sap-icon://upload" type="Emphasized"/>
								</OverflowToolbar>
							</t:extension>
							<t:noData>
								<Link class="sapUiMediumMargin" text="No Data found." press="clearAllFilters"/>
							</t:noData>
							<t:columns>
								<t:Column width="8rem" >
									<Label text="S.No" />
									<t:template>
										<Text text="{serialNumber}" wrapping="false"/>
									</t:template>
								</t:Column>
								<t:Column width="20rem" >
									<Label text="Sender Component ID"/>
									<t:template>
										<Text text="{SenderComponentID}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceName">
									<Label text="Interface Name" />
									<t:template>
										<Text text="{InterfaceName}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceNamespace">
									<Label text="Interface Namespace"/>
									<t:template>
										<Text text="{InterfaceNamespace}" wrapping="false" />
									</t:template>
								</t:Column>
							</t:columns>
						</t:Table>
						<Bar design="Footer">
							<contentRight>
								<Button id="NextButton1" text="Next Step" type="Emphasized" press="onNextButton" enabled="{uiModel>/isPIPOInterfaceRowSelected}"/>
							</contentRight>
						</Bar>
					</WizardStep>
					
					<WizardStep id="selectmessage" title="Select On-Premise Messages" validated="true">
						<Text text="Selected Interface: "  class="boldText"/>
						<Text id="selectedInterfaceName" class="sapUiSmallMarginBottom"/>
						<t:Table id="onPremiseTable" rows="{/messages}" ariaLabelledBy="title" selectionMode="Single"  rowSelectionChange="onMessageKeySelect" enableBusyIndicator="true" class="sapUiLargeMarginBottom" >
							<t:extension>
								
								<OverflowToolbar style="Clear">
									<Title text="On-Premise Messages Details"/>
									<ToolbarSpacer/>
									<DatePicker placeholder="Search by Scheduled Time" width="15rem" change="onSearchOnPremiseMsg" displayFormat="dd-MM-yyyy" id="scheduledTimeFilter" valueFormat="yyyy-MM-dd"/>
								</OverflowToolbar>

								<OverflowToolbar style="Clear">
									<Text id="totalOnPremiseMessages" text="Total On-Premise Messages: " class="totalpipoInt_colour"/>
									<ToolbarSpacer/>
									<Button icon="sap-icon://globe" tooltip="Version" press="onVersionPress"/>
									<Button icon="sap-icon://action-settings" tooltip="Settings" press="onPIPOMsgSettingsPress"/>
								</OverflowToolbar>
							</t:extension>
							<t:noData>
								<Link class="sapUiMediumMargin" text="No Data found." press="clearAllFilters"/>
							</t:noData>
							<t:columns>
								<t:Column width="20rem" >
									<Label text="Message ID"/>
									<t:template>
										<Text text="{MessageID}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceName">
									<Label text="Service Interface" />
									<t:template>
										<Text text="{ServiceInterface}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceNamespace">
									<Label text="Sender Component"/>
									<t:template>
										<Text text="{Sender}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceNamespace">
									<Label text="Receiver Component"/>
									<t:template>
										<Text text="{Receiver}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceNamespace">
									<Label text="Quality Of Service"/>
									<t:template>
										<Text text="{QualityOfService}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceNamespace">
									<Label text="Scheduled Time"/>
									<t:template>
										<Text text="{ScheduledTime}" wrapping="false" />
									</t:template>
								</t:Column>
							</t:columns>
						</t:Table>
						<Bar design="Footer">
							<contentRight>
								<Button id="NextButton2" text="Next Step" type="Emphasized"  press="onNextButton" enabled="{uiModel>/isPIPOMessageRowSelected}"/>
							</contentRight>
						</Bar>
					</WizardStep>
					<WizardStep id="linkiflow" title="Select CPI iFlow" validated="true">
							
						<t:Table id="cpiIflowTable" rows="{/integrations}" ariaLabelledBy="title" selectionMode="Single"  rowSelectionChange="onGetMsgDetailsCPI" enableBusyIndicator="true" class="sapUiLargeMarginBottom" >
							<t:extension>
								
								<OverflowToolbar style="Clear">
									<Title text="CPI Iflow Details"/>
									<ToolbarSpacer/>
									<SearchField placeholder="Search Artifact Name" value="" search="searchCPIIflowDetails" width="15rem"/>
								</OverflowToolbar>

								<OverflowToolbar style="Clear">
									<Text id="totalCPIIflows" text="Total CPI Iflows" class="totalpipoInt_colour"/>
									<ToolbarSpacer/>
									<Button icon="sap-icon://globe" tooltip="Version" press="onVersionPress"/>
									<Button text="Export" press="onExportCPIIflows"   icon="sap-icon://upload" type="Emphasized"/>
								</OverflowToolbar>
							</t:extension>
							<t:noData>
								<Link class="sapUiMediumMargin" text="No Data found." press="clearAllFilters"/>
							</t:noData>
							<t:columns>
								<t:Column width="15rem" >
									<Label text="S.No"/>
									<t:template>
										<Text text="{serialNumber}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="25rem" filterProperty="InterfaceName">
									<Label text="ID" />
									<t:template>
										<Text text="{id}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="25rem" filterProperty="InterfaceNamespace">
									<Label text="Artifact Name"/>
									<t:template>
										<Text text="{name}" wrapping="false" />
									</t:template>
								</t:Column>
							</t:columns>
						</t:Table>

						<Bar design="Footer">
							<contentRight>
								<Button id="NextButton3" text="Next Step" type="Emphasized"  press="onNextButton" enabled="{uiModel>/isCPIIflowRowSelected}"/>
							</contentRight>
						</Bar>
					</WizardStep>
					<WizardStep id="selectCloudmessage" title="Select CPI Messages" validated="true">
						<Text text="Selected Iflow: "  class="boldText"/>
						<Text id="selectedIflow" class="sapUiSmallMarginBottom"/>
						<t:Table id="CPIMessageTable" rows="{/cpiMsgs}" ariaLabelledBy="title" selectionMode="Single"  rowSelectionChange="onCPIMessageSelect" enableBusyIndicator="true" class="sapUiLargeMarginBottom" >
							<t:noData>
								<Link class="sapUiMediumMargin" text="No Data found." press="clearAllFilters"/>
							</t:noData>
							<t:extension>
								<OverflowToolbar style="Clear">
									<Title text="CPI Messages Details"/>
									<ToolbarSpacer/>
									<SearchField placeholder="Search by Status" value="" search="searchCPIMsgDetails" width="15rem"/>
								</OverflowToolbar>

								<OverflowToolbar style="Clear">
									<Text id="totalCPIMessages" text="Total CPI Messages" class="totalpipoInt_colour"/>
									<ToolbarSpacer/>
									<Button icon="sap-icon://globe" tooltip="Version" press="onVersionPress"/>
									<Button icon="sap-icon://action-settings" tooltip="Settings" press="onCPIMsgSettingsPress"/>
								</OverflowToolbar>
							</t:extension>
							<t:columns>
								<t:Column width="20rem" >
									<Label text="Guid Message"/>
									<t:template>
										<Text text="{Message_GUID}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceName">
									<Label text="Start Date" />
									<t:template>
										<Text text="{StartDate}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceNamespace">
									<Label text="End Date"/>
									<t:template>
										<Text text="{EndDate}" wrapping="false" />
									</t:template>
								</t:Column>
								<t:Column width="20rem" filterProperty="InterfaceNamespace">
									<Label text="Status"/>
									<t:template>
										<Text text="{Status}" wrapping="false" />
									</t:template>
								</t:Column>
							</t:columns>
						</t:Table>
						<Bar design="Footer">
							<contentRight>
								<Button id="NextButton4" text="Next Step" type="Emphasized"  press="onNextButton" enabled="{uiModel>/isCPIMessageSelected}"/>
							</contentRight>
						</Bar>
					</WizardStep>
					<WizardStep id="testresults" title="Test results" validated="true">
						<form:SimpleForm title="Review" editable="false" layout="ResponsiveGridLayout" class="sapUiLargeMarginBottom">
							<form:content>
								<Label text="Type"/>
								<Text text="Chosen Product Type"/>
								<Button icon="sap-icon://show" press="onShowComparison"  width="20%"/>
							</form:content>
						</form:SimpleForm>
						<Bar design="Footer">
							<contentRight>
								<!-- <Button id="Review" text="Review" type="Emphasized"  press="onNextButton" /> -->
							</contentRight>
						</Bar>
					</WizardStep>
				</Wizard>
			</f:content>
		</f:DynamicPage>
		<f:DynamicPage id="reviewPage" showFooter="true" headerExpanded="true" toggleHeaderOnTitleClick="false">
			<f:title>
				<f:DynamicPageTitle>
					<f:heading>
						<Title text="Review Page"/>
					</f:heading>
				</f:DynamicPageTitle>
			</f:title>
			<f:header>
				<f:DynamicPageHeader pinnable="true">
					<layout:HorizontalLayout allowWrapping="false">
						<layout:VerticalLayout class="sapUiMediumMarginEnd">
							<ObjectAttribute title="Scenario Title" text="{uiModel>/Scenariotitle}"/>
							<ObjectAttribute title="Tested By" text="{uiModel>/testedBy}"/>
						</layout:VerticalLayout>
					</layout:HorizontalLayout>
				</f:DynamicPageHeader>
			</f:header>
			<f:content>
				<form:SimpleForm id="SimpleFormDisplay">
					<VBox class="sapUiLargeMargin">
						<Bar class="sapUiSmallMarginBottom">
							<contentLeft>
								<Title text="1. PI/PO Interface" />
							</contentLeft>
							<contentMiddle>
								<Button text="Edit" press="onEdit1"/>
							</contentMiddle>
						</Bar>
						<ObjectAttribute title="Interface Name" text="{uiModel>/selectedPIPOInterface/InterfaceName}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Interface Namespace" text="{uiModel>/selectedPIPOInterface/InterfaceNamespace}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Sender Component ID" text="{uiModel>/selectedPIPOInterface/SenderComponentID}" class="sapUiSmallMarginBottom Left"/>
						<Bar class="sapUiSmallMarginBottom">
							<contentLeft>
								<Title text="2. On-Premise Message" />
							</contentLeft>
							<contentMiddle>
								<Button text="Edit" press="onEdit2"/>
							</contentMiddle>
						</Bar>
						<ObjectAttribute title="Message ID" text="{uiModel>/selectedPIPOMessage/MessageID}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Service Interface" text="{uiModel>/selectedPIPOMessage/ServiceInterface}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Sender Component" text="{uiModel>/selectedPIPOMessage/Sender}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Receiver Component" text="{uiModel>/selectedPIPOMessage/Receiver}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Quality of Service" text="{uiModel>/selectedPIPOMessage/QualityOfService}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Scheduled Time" text="{uiModel>/selectedPIPOMessage/ScheduledTime}" class="sapUiSmallMarginBottom Left"/>
						<Bar class="sapUiSmallMarginBottom">
							<contentLeft>
								<Title text="3. CPI IFlow" />
							</contentLeft>
							<contentMiddle>
								<Button text="Edit" press="onEdit3"/>
							</contentMiddle>
						</Bar>
						<ObjectAttribute title="Package" text="{uiModel>/selectedCPIIflow/package}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Artifact Name" text="{uiModel>/selectedCPIIflow/name}" class="sapUiSmallMarginBottom Left"/>
						<Bar class="sapUiSmallMarginBottom">
							<contentLeft>
								<Title text="4. CPI Message" />
							</contentLeft>
							<contentMiddle>
								<Button text="Edit" press="onEdit4"/>
							</contentMiddle>
						</Bar>
						<ObjectAttribute title="Guid Message" text="{uiModel>/selectedCPIMessage/Message_GUID}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Start Date" text="{uiModel>/selectedCPIMessage/StartDate}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="End Date" text="{uiModel>/selectedCPIMessage/EndDate}" class="sapUiTinyMarginBottom Left"/>
						<ObjectAttribute title="Status" text="{uiModel>/selectedCPIMessage/Status}" class="sapUiSmallMarginBottom Left"/>
						<Bar class="sapUiSmallMarginBottom">
							<contentLeft>
								<Title text="5. Test Results" />
							</contentLeft>
							<contentMiddle>
								<Button text="Edit" press="onEdit5"/>
							</contentMiddle>
						</Bar>
						<ObjectAttribute title="Status" text="{uiModel>/status}" class="sapUiTinyMarginBottom Left" id="reviewStatus"/>
						<ObjectAttribute title="Date" text="{uiModel>/date}" class="sapUiSmallMarginBottom Left"/>
					
						<Bar class="sapUiSmallMarginBottom">
							<contentLeft>
								<Title text="6. Ignored Nodes" />
							</contentLeft>
						</Bar>
                        <Table id="selectedLinesTable" items="{uiModel>/selectedLines}">
                            <columns>
                                <Column>
                                    <Text text="PI/PO" />
                                </Column>
                                <Column>
                                    <Text text="CPI" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{uiModel>pipo}" />
                                        <Text text="{uiModel>cpi}" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                </VBox>
				</form:SimpleForm>
			</f:content>
			<f:footer>
				<OverflowToolbar>
					<ToolbarSpacer/>
					<Button text="Back" press="onBackToTestPage"/>
					<Button  text="Download as PDF" press="onDownload"/>
				</OverflowToolbar>
			</f:footer>
		</f:DynamicPage>
	</NavContainer>
</mvc:View>
 
 